{"version":3,"sources":["../../src/routes/rides.js"],"names":["rideCreateSuccess","message","error","status","ridesRouter","express","Router","verifyParameters","req","res","next","parameter","body","destination","takeOffTime","totalSeats","send","get","rideOffers","post","reqBody","newRide","id","push"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,oBAAoB,EAAEC,SAAS,0CAAX,EAA1B;AACA,IAAMC,QAAQ;AACZA,SAAO,EADK;AAEZC,UAAQ;AAFI,CAAd;AAIA,IAAMC,cAAcC,kBAAQC,MAAR,EAApB;AACA,IAAMC,mBAAmB,SAAnBA,gBAAmB,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC3C,MAAMC,YAAYH,IAAII,IAAtB;AACA,MAAID,aAAaA,UAAUE,WAAvB,IAAsCF,UAAUG,WAAhD,IAA+DH,UAAUI,UAA7E,EAAyF;AACvFL;AACD,GAFD,MAEO;AACLR,UAAMA,KAAN,GAAc,0CAAd;AACAA,UAAMC,MAAN,GAAe,GAAf;AACAM,QAAIN,MAAJ,CAAW,GAAX,EAAgBa,IAAhB,CAAqBd,KAArB;AACD;AACF,CATD;;AAWAE,YAAYa,GAAZ,CAAgB,GAAhB,EAAqB,UAACT,GAAD,EAAMC,GAAN,EAAc;AACjCA,MAAIO,IAAJ,CAASE,oBAAT;AACD,CAFD;;AAIAd,YAAYe,IAAZ,CAAiB,GAAjB,EAAsBZ,gBAAtB,EAAwC,UAACC,GAAD,EAAMC,GAAN,EAAc;AACpD,MAAMW,UAAUZ,IAAII,IAApB;AACA,MAAMS,UAAU;AACdC,QAAI,uBADU;AAEdT,iBAAaO,QAAQP,WAFP;AAGdC,iBAAaM,QAAQN,WAHP;AAIdC,gBAAYK,QAAQL;AAJN,GAAhB;AAMA,MAAIG,qBAAWK,IAAX,CAAgBF,OAAhB,CAAJ,EAA8B;AAC5BZ,QAAIO,IAAJ,CAAShB,iBAAT;AACD,GAFD,MAEO;AACLE,UAAMA,KAAN,GAAc,0BAAd;AACAA,UAAMC,MAAN,GAAe,GAAf;AACAM,QAAIN,MAAJ,CAAW,GAAX,EAAgBa,IAAhB,CAAqBd,KAArB;AACD;AACF,CAfD;;kBAkBeE,W","file":"rides.js","sourcesContent":["import express from 'express';\nimport uniqid from 'uniqid';\nimport rideOffers from '../models/rideOffers';\n\nconst rideCreateSuccess = { message: 'Your offer has been successfully created' };\nconst error = {\n  error: '',\n  status: 401,\n};\nconst ridesRouter = express.Router();\nconst verifyParameters = (req, res, next) => {\n  const parameter = req.body;\n  if (parameter && parameter.destination && parameter.takeOffTime && parameter.totalSeats) {\n    next();\n  } else {\n    error.error = 'Please input all the required parameters';\n    error.status = 400;\n    res.status(400).send(error);\n  }\n};\n\nridesRouter.get('/', (req, res) => {\n  res.send(rideOffers);\n});\n\nridesRouter.post('/', verifyParameters, (req, res) => {\n  const reqBody = req.body;\n  const newRide = {\n    id: uniqid(),\n    destination: reqBody.destination,\n    takeOffTime: reqBody.takeOffTime,\n    totalSeats: reqBody.totalSeats,\n  };\n  if (rideOffers.push(newRide)) {\n    res.send(rideCreateSuccess);\n  } else {\n    error.error = 'An unknown error occured';\n    error.status = 500;\n    res.status(500).send(error);\n  }\n});\n\n\nexport default ridesRouter;\n"]}